<!DOCTYPE html>
<html>
<head>
<script src="lib/jquery.js"></script>
<script type="module" src="tests/math.js"></script>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>

<h3>Program:</h3>
<textarea style="height:400px;" rows="4" cols="50" id="program"/></textarea>


<h3>Query:</h3>
	<button onclick="execute()" id="execute">Execute</button>
<div id="results"></div>



</body>

<script>

/*var program ="r1(?z, ?x) :- r1(?x, ?y), r2(?y).\nr2(?x) :- r1(?x, ?y).\n\nr1('a', 'b').\nr2('b').\n\n?- r1(?x, ?y).\n?- r2(?x).";

var lines = program.split('\n');
for(var i = 0;i < lines.length;i++){
    //code here using lines[i] which will give you each line
}


var tgdProto = {  }


goal, tgd, fact*/




function execute(){	
	$.ajax({		
		 type: "get",
		  url: "http://localhost:8080/iris/test",
		  data: { 
			     loadProds: 1, 
			     test: JSON.stringify({ "program": $("#program").val(), "query" : $("#query").val() }) // look here! 
			    }, 
		  contentType: "application/json; charset=utf-8",
          success:function(response) {
  		$("#results").text(response);
  		}
		})
}
</script>
</html>

