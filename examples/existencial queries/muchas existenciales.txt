p(?x, ?y, ?z) :- r1(?x, ?y).

 
r1('a', 'b').
r1('c', 'b').


(?x, ?y, ?z) :- p(?x, ?y, ?z).
(?x, ?y) :- p(?x, ?y, ?z).
(?x, ?z) :- p(?x, ?y, ?z).
(?y, ?z) :- p(?x, ?y, ?z).
(?x) :- p(?x, ?y, ?z).
(?y) :- p(?x, ?y, ?z).
(?z) :- p(?x, ?y, ?z).
() :- p(?x, ?y, ?z).