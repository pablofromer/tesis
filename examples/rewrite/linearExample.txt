p(?x) :- r1(?x, ?y).
r1(?x, ?y) :- r2(?x, ?y, ?z).

 
r2('a', 'b', 'e').
r2('c', 'b', 'f').

(?x) :- p(?x).

