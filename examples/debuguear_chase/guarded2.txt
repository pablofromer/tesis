r5(?z, ?z) :- r1(?x), r2(?x, ?y), r3(?y, ?z), r4(?x, ?y, ?z).


r1('a').
r2('a', 'b').
r3('b', 'c').
r4('a', 'b', 'c').

r1('f').
r2('f', 'g').
r3('g', 'h').
r4('f', 'g', 'h').




?- r5(?z, ?z).