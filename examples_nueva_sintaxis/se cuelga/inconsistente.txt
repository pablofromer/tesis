p2(?x, 'd') -> bottom.

p1(?x, ?y) -> p2(?y, ?z).
p2(?x, ?y) -> p1(?y, ?w).
 
 
p2('a', 'b').
p1('c', 'd').
p2('a', 'd').

 
(?x, ?y) :- p1(?x, ?y).

max_depth=1