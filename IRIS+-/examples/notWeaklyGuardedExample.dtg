p3(?x, ?z) :- p1(?x, ?y), p2(?y, ?z).
p2(?w, ?x) :- p1(?x, ?y).
p1(?x, ?w) :- p2(?x, ?y).

p1('a', 'b').
p2('b', 'c').

?- p3(?x, ?y).

