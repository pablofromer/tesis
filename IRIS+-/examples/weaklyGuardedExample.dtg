p2(?y, ?z) :- p1(?x, ?y), p2(?x, ?y).
p1(?y, ?x) :- p2(?x, ?y), p2(?w, ?x). 

p2('a', 'b').
p2('c', 'a').
p2('b', 'a').

?- p1(?x, ?y).
?- p2(?x, ?y).

